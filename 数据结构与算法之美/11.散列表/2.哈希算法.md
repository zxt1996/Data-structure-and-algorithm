# 哈希算法
将任意长度的二进制值串映射为固定长度的二进制值串，这个映射的规制就是**哈希算法**，而通过原始数据映射之后得到的二进制值串就是**哈希值**  

- 从哈希值不能反向推导出原始数据
- 对输入数据非常敏感，哪怕原始数据只修改一个Bit,最后得到的哈希值也大不相同
- 散列冲突的概率要很小，对于不同的原始数据，哈希值相同的概率非常小
- 哈希算法的执行效率要尽量高效，针对较长的文本，也能快速地计算出哈希值  

哈希算法的应用  

## 应用一：安全加密
- MD5(MD5 Message-Digest Algorithm,MD5消息摘要算法)
- SHA(Secure Hash Algorithm,安全散列算法)

## 应用二：唯一标识
校验数据的完整性和正确性

## 应用三：数据校验
通过哈希算法，对100个文件块分别取哈希值，并且保存在种子文件中。  
而哈希算法对数据很敏感，只要文件块的内容有一丁点的改变，最后计算出的哈希值就会完全不同。

## 应用四：散列函数

## 应用五：负载均衡
通过哈希算法，对客户端IP地址或者会话ID计算哈希值，将取得的哈希值与服务器列表的大小进行取模运算，最终得到的值就是应该被路由到的服务器编号。  
这样就可以把同一个IP过来的所有请求，都路由到同一个后端服务器上

## 应用六：数据分片
### 1.如何统计“搜索关键词”出现的次数
为了提高处理的速度，用n台机器并行处理。  
从搜索记录的日志文件中，依次读出每个搜索关键词，并且通过哈希函数计算哈希值，然后再跟n取模，最终得到的值，就是应该分配到的机器编号  

哈希值相同的搜索关键词就被分配到了同一个机器上。每个机器会分别计算关键词出现的次数，最后合并起来就是最终的结果

### 2.如何快速判断图片是否在图库中
多机分布式处理

## 应用七：分布式存储
将数据分布在多台机器上  
用数据分片的思想，通过哈希算法对数据取哈希值，然后对机器个数取模，这个最终值就是应该存储的缓存机器编号  

数据搬移的时候使用**一致性哈希算法**  

假设我们有k个机器，数据的哈希值的范围是[0,MAX]。将整个范围划分成m个小区间(m远大于k),每个机器负责m/k个小区间。当有新机器加入的时候，就将某几个小区间的数据，从原来的机器中搬移到新的机器中。